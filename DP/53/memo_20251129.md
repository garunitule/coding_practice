## 分割統治による解法
```python
import sys

class Solution:
    def maxSubArray(self, nums: List[int]) -> int:
        def find_max_sum(left: int, right: int) -> int:
            if left > right:
                return -1 * sys.maxsize

            mid = (left + right) // 2
            max_sum_with_mid = nums[mid]

            left_sum_so_far = 0
            max_left_sum = 0
            for i in range(mid - 1, left - 1, -1):
                left_sum_so_far += nums[i]
                max_left_sum = max(max_left_sum, left_sum_so_far)
            max_sum_with_mid += max_left_sum
            
            right_sum_so_far = 0
            max_right_sum = 0
            for i in range(mid + 1, right + 1):
                right_sum_so_far += nums[i]
                max_right_sum = max(max_right_sum, right_sum_so_far)
            max_sum_with_mid += max_right_sum
            
            only_left_max_sum = find_max_sum(left, mid - 1)
            only_right_max_sum = find_max_sum(mid + 1, right)
            return max(only_left_max_sum, max_sum_with_mid, only_right_max_sum)
        
        return find_max_sum(0, len(nums) - 1)
```

## 小田さんのコメントに則ってやってみる
https://discordapp.com/channels/1084280443945353267/1206101582861697046/1208414507735453747


愚直にブルートフォースで計算
```python
import sys


class Solution:
    def maxSubArray(self, nums: List[int]) -> int:
        n = len(nums)

        result = -1 * sys.maxsize
        for i in range(n):
            for j in range(i, n):
                result = max(result, sum(nums[i:j+1]))
        return result
```

毎回1から計算する必要がないので累積和でメモ化
```python
import sys
from collections import defaultdict


class Solution:
    def maxSubArray(self, nums: List[int]) -> int:
        n = len(nums)
        index_to_prefix_sum = defaultdict(int)
        for i in range(n):
            index_to_prefix_sum[i] = index_to_prefix_sum[i - 1] + nums[i]

        def get_sum(i: int, j: int) -> int:
            return index_to_prefix_sum[j] - index_to_prefix_sum[i - 1]

        result = -1 * sys.maxsize
        for i in range(n):
            for j in range(i, n):
                result = max(result, get_sum(i, j))
        return result
```

jより左の全てのindex_to_prefix_sumを引いて最大値を取るなら、jより左のindex_to_prefix_sumの最小値を保持しておいて引けばいい
min_prefix_sum_so_farは最上位のループにまとめられるので時間計算量が改善される

```python
import sys
from collections import defaultdict


class Solution:
    def maxSubArray(self, nums: List[int]) -> int:
        n = len(nums)
        index_to_prefix_sum = defaultdict(int)
        for i in range(n):
            index_to_prefix_sum[i] = index_to_prefix_sum[i - 1] + nums[i]

        result = -1 * sys.maxsize
        min_prefix_sum_so_far = sys.maxsize
        for i in range(n):
            min_prefix_sum_so_far = min(min_prefix_sum_so_far, index_to_prefix_sum[i - 1])
            result = max(result, index_to_prefix_sum[i] - min_prefix_sum_so_far)

        return result
```